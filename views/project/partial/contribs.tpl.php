<?php$project = $SOUP->get('project');$task = $SOUP->get('task');$contribs = $SOUP->get('updates');$id = $SOUP->get('id', 'contribs');$title = $SOUP->get('title', 'Contributions');$hasJoinedTask = $SOUP->get('hasJoinedTask', false);// can user contribute?$hasPermission = $hasJoinedTask && !$project->isBanned(Session::getUserID());$fork = $SOUP->fork();$fork->set('title', $title);$fork->set('id', $id);if($hasPermission) {	$fork->set('creatable', true);	$fork->set('createLabel', 'Contribute');}$fork->startBlockSet('body');?><script type="text/javascript"><?php if($hasPermission): ?>	$('#<?= $id ?> .createButton').click(function(){		window.location = '<?= Url::updateNew($task->getID()) ?>';	});<?php endif; ?></script><?if(!empty($contribs)) {?><table class="contribs">	<tr>		<th style="padding-left: 22px;">Contribution</th>		<th>Member</th>		<th>Status</th>		<th>Date</th>	</tr><?phpforeach($contribs as $c) {	echo '<tr>';	// title	echo '<td class="name">';	echo '<h6><a href="'.Url::update($c->getID()).'">'.$c->getTitle().'</a></h6>';	echo '</td>';	// creator	echo '<td class="member">'.formatUserLink($c->getCreatorID(), $c->getProjectID()).'</td>';	// status	if($c->isLatestUpdate()) {		$accepted = Accepted::load($c->getAcceptedID());		$status = Accepted::getStatusName($accepted->getStatus());	} else {		$status = 'old';	}	echo '<td class="status">'.$status.'</td>';	// date	echo '<td class="date">'.formatTimeTag($c->getDateCreated()).'</td>';	echo '</tr>';}?></table><?php} else {	echo '<p>(none)</p>';}$fork->endBlockSet();$fork->render('site/partial/panel');